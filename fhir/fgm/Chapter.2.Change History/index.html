

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <title>FGM Risk Indication System - FHIR Implementaton Guide</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="author" content="HSCIC" />        
        <meta name="publisher version" content=	"FHIR-Furnace : 2.5.5945.24449" />
	
        <link href="../dist/css/fhir.css" rel="stylesheet" />
 
        <!-- Bootstrap core CSS -->
        <link href="../dist/css/bootstrap.css" rel="stylesheet" />
        <link href="../dist/css/bootstrap-fhir.css" rel="stylesheet" />
        <link href="../dist/css/bootstrap-glyphicons.css" rel="stylesheet" />

        <!-- Project extras -->
        <link href="../dist/css/project.css" rel="stylesheet" />
        <link href="../dist/css/pygments-manni.css" rel="stylesheet" />

        <script src="../dist/js/jquery.js"> </script>
        <script src="../dist/js/bootstrap.min.js"> </script>

        <script src="../dist/js/fhir.js"> </script>

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="../dist/js/html5shiv.js"></script>
            <script src="../dist/js/respond.min.js"></script>
        <![endif]-->

        <!-- Favicons -->
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../dist/images/apple-touch-icon-144-precomposed.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../dist/images/apple-touch-icon-114-precomposed.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../dist/images/apple-touch-icon-72-precomposed.png" />
        <link rel="apple-touch-icon-precomposed" href="../dist/images/apple-touch-icon-57-precomposed.png" />
        <link rel="shortcut icon" href="../dist/images/favicon.png" />

    </head>
    <body>

        <div id="segment-header" class="segment">
            <!-- segment-header -->
            <div class="container">
                <!-- container -->
                <a id="logo" href="http://www.hscic.gov.uk">
                    <img src="../dist/images/logo.png" alt="logo hscic" />
                </a>
                <div id="hl7-status">
                    <div id="hl7-igname">
                        <b>FGM Risk Indication System</b>
                    </div>
                </div>

                <div id="hl7-nav">
                    <a id="hl7-logo" href="http://www.hl7.org">
                        <img src="../dist/images/hl7-logo.png" width="42" height="50" alt="visit the hl7 website" />
                    </a>
                </div>
                <!--hl7-search-->
            </div>
            <div class="container">
                <!-- container -->
            </div>
        </div>
        <!-- /segment-header -->


        <div id="segment-navbar" class="segment">
            <!-- segment-navbar -->
            <div id="stripe"> </div>
            <div class="container">
                <!-- container -->
                <!-- HEADER CONTENT -->

                <nav class="navbar navbar-inverse">
                    <div class="container">
                        <button data-target=".navbar-inverse-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
                            <span class="icon-bar"> </span>
                            <span class="icon-bar"> </span>
                            <span class="icon-bar"> </span>
                        </button>
                        <a href="index.html" class="navbar-brand hidden">FHIR</a>
                        <div class="nav-collapse collapse navbar-inverse-collapse">
                            <ul class="nav navbar-nav">

                                        <li>
                                            <a href='../Chapter.1.About/index.html'>About</a>
                                        </li>
                                        <li>
                                            <a href='../Chapter.2.Change History/index.html'>Change History</a>
                                        </li>
                                        <li>
                                            <a href='../Chapter.4.FHIR Messaging Implementation/index.html'>FHIR Messaging Implementation</a>
                                        </li>
                                        <li>
                                            <a href='../Chapter.6.FHIR Messages/index.html'>FHIR Messages</a>
                                        </li>

                            </ul>
                            <p class="navbar-text pull-right" style="padding-right: 10px;padding-top: 3px;">
                                <span class="label label-default"  style="font-size: 95%;">Version 1.0 : RC1</span>
                            </p>

                        </div>
                    </div>
                </nav>
            </div>
        </div>


        <div id="segment-breadcrumb" class="segment">
            <!-- segment-breadcrumb -->
            <div class="container">
                <!-- container -->
                <ul class="breadcrumb"></ul>
            </div>
            <!-- /container -->
        </div>

        <div id="segment-content" class="segment">
            <!-- segment-content -->
            <div class="container">
                <!-- container -->
                <div class="row">
                    <div class="inner-wrapper">
                        <!-- CONTENT CONTENT -->
                        <div class="col-12">
                           <h1>Change History</h1>
<h2>Version: 1.0; Status: RC1</h2>
<p>FGM DMS baselined as Version 1 Release Candidate (RC1).</p>
<h2>Version: 1.0; Status: Draft F</h2>
<p><strong>Spine-Practitioner-1-0 profile / XML example</strong></p>
<ul>
<li>Practitioner.identifier (SDS User ID) element mandated [1..1]</li>
<li>Practitioner.identifier (SDS Role Profile ID) element mandated [1..1]</li>
<li>Name element removed from profile</li>
<li>PractitionerRole element is now optional [0..1] </li>
<li>PractitionerRole.role (SDS Job Role Code) element removed</li>
<li>All XML examples amended to support these changes </li>
</ul>
<p><strong>Spine-Organization-1-0 profile/ XML Example</strong></p>
<ul>
<li>Organization.identifier (ODS Organization Code) element mandated [1..1]</li>
<li>All XML examples amended to support these changes </li>
</ul>
<p><strong>Spine-Request-MessageHeader-1-0 profile/ XML Example</strong></p>
<ul>
<li>MessageHeader.author element is now optional [0..1]</li>
<li>MessageHeader.author element Description &amp; Constraints states: &quot;Where the NHS system uses RBAC to access the SPINE FGM Service, the 'author' MUST be referenced in the Spine-Request-MessageHeader&quot;.</li>
<li>All XML examples amended to support these changes </li>
</ul>
<h2>Version: 1.0; Status: Draft E</h2>
<p><strong>Spine-RIS-Parameters-1-0 Profile</strong></p>
<p>The Risk Indicator and NHS Number parameter value 'open type' element (which is represented by the wildcard symbol '*') has been restricted to the String data type only.</p>
<p><strong>Spine-RIS-Parameters-1-0 XML Example</strong></p>
<p>To support the Spine-RIS-Parameters-1-0 profile change, the Risk Indicator and NHS Number parameter.value XML elements have been amended as follows: </p>
<ul>
<li>Risk Indicator: - 'valueString' element replaces 'valueCode' element</li>
<li>NHS Number: - 'valueString' element replaces 'valueIdentifier' element</li>
</ul>
<h2>Version: 1.0; Status: Draft D</h2>
<p><strong>FGM Resource Name and URL Changes</strong></p>
<p>All FGM FHIR resources are now versioned, identified using URLs (instead of URNs) and their names genericised to allow for future re-use within the Spine 2 interface. The changes are as follows: </p>
<table>
<thead>
<tr>
	<th>Structured Definitions (Profile)</th>
	<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
	<td>Spine-Message-Bundle-1-0</td>
	<td>http://fhir.nhs.net/StructureDefinition/spine-message-bundle-1-0</td>
</tr>
<tr>
	<td>Spine-Request-MessageHeader-1-0</td>
	<td>http://fhir.nhs.net/StructureDefinition/spine-request-messageheader-1-0</td>
</tr>
<tr>
	<td>Spine-Response-MessageHeader-1-0</td>
	<td>http://fhir.nhs.net/StructureDefinition/spine-response-messageheader-1-0</td>
</tr>
<tr>
	<td>Spine-RIS-Flag-1-0</td>
	<td>http://fhir.nhs.net/StructureDefinition/spine-ris-flag-1-0</td>
</tr>
<tr>
	<td>Spine-RIS-Patient-1-0</td>
	<td>http://fhir.nhs.net/StructureDefinition/spine-ris-patient-1-0</td>
</tr>
<tr>
	<td>Spine-RIS-Parameters-1-0</td>
	<td>http://fhir.nhs.net/StructureDefinition/spine-ris-parameters-1-0</td>
</tr>
<tr>
	<td>Spine-Organization-1-0</td>
	<td>http://fhir.nhs.net/StructureDefinition/spine-organization-1-0</td>
</tr>
<tr>
	<td>Spine-Practitioner-1-0</td>
	<td>http://fhir.nhs.net/StructureDefinition/spine-practitioner-1-0</td>
</tr>
<tr>
	<td>Spine-OperationOutcome-1-0</td>
	<td>http://fhir.nhs.net/StructureDefinition/spine-operationoutcome-1-0</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
	<th>Value Sets</th>
	<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
	<td>SDS-Job-Role-Name-1-0</td>
	<td>http://fhir.nhs.net/ValueSet/sds-job-role-name-1-0</td>
</tr>
<tr>
	<td>Message-Event-1-0</td>
	<td>http://fhir.nhs.net/ValueSet/message-event-1-0</td>
</tr>
<tr>
	<td>Risk-Indicator-Type-1-0</td>
	<td>http://fhir.nhs.net/ValueSet/risk-indicator-type-1-0</td>
</tr>
<tr>
	<td>Spine-Response-Code-1-0</td>
	<td>http://fhir.nhs.net/ValueSet/spine-response-code-1-0</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
	<th>Identifiers</th>
	<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
	<td>SDS-User-Id</td>
	<td>http://fhir.nhs.net/Id/sds-user-id</td>
</tr>
<tr>
	<td>SDS-Role-Profile-Id</td>
	<td>http://fhir.nhs.net/Id/sds-role-profile-id</td>
</tr>
<tr>
	<td>ODS-Organization-Code</td>
	<td>http://fhir.nhs.net/Id/ods-organization-code</td>
</tr>
<tr>
	<td>ODS-Site-Code</td>
	<td>http://fhir.nhs.net/Id/ods-site-code</td>
</tr>
<tr>
	<td>Accredited-System-Id</td>
	<td>http://fhir.nhs.net/Id/accredited-system-id</td>
</tr>
<tr>
	<td>NHS-Number</td>
	<td>http://fhir.nhs.net/Id/nhs-number</td>
</tr>
</tbody>
</table>
<p><strong>Bundle and MessageHeader Profile Changes</strong></p>
<p>The Bundle and MessageHeader Infrastructure resource profiles have been decoupled from the FGM Query/ Response messages to allow for future re-use within the Spine 2 interface. </p>
<p>The 'Spine-Message-Bundle-1-0' Infrastructure resource should be used in both request and response interactions.</p>
<p><strong>FHIR Messaging Architecture</strong></p>
<p>Updated to include the 'FGM Service' implementation details.</p>
<p><strong>FHIR Messages</strong></p>
<p>There is no Spine interface requirement for the meta.lastUpdated Base Resource metadata element. Element has been removed from all the spine-request-messageheader-1-0/ spine-response-messageheader-1-0 FGM examples. </p>
<p>Includes guidance on resource identity and metadata usage within this DMS.</p>
<h2>Version: 1.0; Status: Draft C</h2>
<p>Where necessary the FGM resource profiles have been aligned with the official release of FHIR DSTU2 1.0.1 (Sept 2015) specification. The profile changes are as follows:</p>
<p><strong>NHS-FGM-MessageHeader-QueryParameters Profile</strong></p>
<p>The MessageHeader.identifier (UUID) element has been removed from the profile, with the MessageHeader.id element (UUID) assuming the same functionality. </p>
<p>The messageHeader.event.code has been changed to: urn:nhs:names:services:clinicals-sync:FGMQuery_1_0</p>
<p>The messageHeader.source.endpoint and messageHeader.destination.endpoint URN format has been changed to: urn:nhs:addressing:asid:047192794544</p>
<p><strong>NHS-FGM-MessageHeader-QueryResponse Profile</strong></p>
<p>The MessageHeader.identifier (UUID) element has been removed from the profile, with the MessageHeader.id element (UUID) assuming the same functionality. </p>
<p>The messageHeader.event.code has been changed to: urn:nhs:names:services:clinicals-sync:FGMQueryResponse_1_0</p>
<p>The query response message now carries the request MessageHeader.id (UUID) in the MessageHeader.response.identifier element so that the source system can pair the response to its request.  </p>
<p>The messageHeader.source.endpoint and messageHeader.destination.endpoint URN format has been changed to: urn:nhs:addressing:asid:047192794544</p>
<p><strong>NHS-FGM-Flag Profile</strong></p>
<p>The Patient element has been renamed to 'subject'.</p>
<p><strong>NHS-FGM-OperationOutcome Profile</strong></p>
<p>OperationOutcome.issue.code data type changed to 'code' which is bound to the required FHIR 'issue-type' value-set.</p>
<p>OperationOutcome.issue.details replaces old code/coding elements. It remains bound to the SpineResponseCode value-set.</p>
<p>OperationOutcome.issue.diagnostics replaces the description element.</p>
<p><strong>Value-Set SpineResponseCode (urn:x-fhir:uk:nhs:vs:SpineResponseCode)</strong></p>
<p>SpineResponseCode codes agreed as follows:</p>
<ul>
<li>FGM-0001 - No FGM Record Found</li>
<li>FGM-0002 - NHS Number Invalid</li>
<li>FGM-9999 - Message not well formed</li>
</ul>
<p><strong>Value-Set issue-type (http://hl7.org/fhir/ValueSet/issue-type)</strong></p>
<p>The issue-type codes will be mapped to SpineResponseCode value-set as follows:</p>
<ul>
<li>'not-found' - FGM-0001 </li>
<li>'invalid' - FGM-0002 </li>
<li>'structure' - FGM-9999 </li>
</ul>
<p><strong>Value-Set MessageEvent (urn:x-fhir:uk:nhs:vs:MessageEvent)</strong></p>
<p>The FGM MessageEvent codes have been amended to URN syntax and the codes are now constructed by prepending the Spine 2 service name (urn:nhs:names:services:clinicals-sync) to the original message event code e.g.urn:nhs:names:services:clinicals-sync:FGMQuery_1_0.</p>
<p><strong>FGM Resource URN</strong></p>
<p>The FGM profile URN syntax have been amended as follows:</p>
<p>Inbound Profiles:</p>
<ol>
<li>urn:x-fhir:uk:nhs:profile:bundle:NHS-FGM-Bundle-QueryParameters</li>
<li>urn:x-fhir:uk:nhs:profile:messageheader:NHS-FGM-MessageHeader-QueryParameters</li>
<li>urn:x-fhir:uk:nhs:profile:parameters:NHS-FGM-QueryParameters</li>
<li>urn:x-fhir:uk:nhs:profile:practitioner:NHS-FGM-Practitioner</li>
<li>urn:x-fhir:uk:nhs:profile:organization:NHS-FGM-Organization</li>
</ol>
<p>Outbound Profiles:</p>
<ol>
<li>urn:x-fhir:uk:nhs:profile:bundle:NHS-FGM-Bundle-QueryResponse</li>
<li>urn:x-fhir:uk:nhs:profile:messageheader:NHS-FGM-MessageHeader-QueryResponse</li>
<li>urn:x-fhir:uk:nhs:profile:flag:NHS-FGM-Flag</li>
<li>urn:x-fhir:uk:nhs:profile:operationoutcome:NHS-FGM-OperationOutcome</li>
<li>urn:x-fhir:uk:nhs:profile:patient:NHS-FGM-Patient</li>
</ol>
<p>The FGM identifier URN syntax has been amended as follows:</p>
<ol>
<li>urn:x-fhir:uk:nhs:id:SDSUserID</li>
<li>urn:x-fhir:uk:nhs:id:SDSRoleProfileID</li>
<li>urn:x-fhir:uk:nhs:id:ODSOrganisationCode</li>
<li>urn:x-fhir:uk:nhs:id:ODSSiteCode</li>
<li>urn:x-fhir:uk:nhs:id:AccreditedSystemID</li>
<li>urn:x-fhir:uk:nhs:id:NHSNumber</li>
</ol>
<p>The FGM value-set URN syntax has been amended as follows:</p>
<ol>
<li>urn:x-fhir:uk:nhs:vs:SDSJobRoleName</li>
<li>urn:x-fhir:uk:nhs:vs:MessageEvent</li>
<li>urn:x-fhir:uk:nhs:vs:RiskIndicatorType</li>
<li>urn:x-fhir:uk:nhs:vs:SpineResponseCode</li>
</ol>
<p><strong>Examples</strong></p>
<p>The XML examples have been amended to support all the above changes.</p>
<h2>Version: 1.0; Status: Draft B</h2>
<p>Changes made to the FGM RIS DMS after initial feedback from Spine 2 development team.</p>
<p><strong>NHS-FGM-QueryParameters Profile</strong></p>
<p>To support Spine 2 identification of the query parameters, the value xml attributes of the Parameters.parameter.name elements are now populated with 'RiskIndicator' and 'NHSNumber' strings respectively. </p>
<p><strong>NHS-FGM-OperationOutcome Profile</strong></p>
<p>OperationOutcome.issue.location element removed from profile as no Spine 2 requirement to return XPath location of the FGM RIS Query 'fatal-error' within the FGM RIS Query Response message.</p>
<p><strong>NHS-FGM-Bundle-QueryResponse (Operation Outcome - No FGM Record Found) Bundle</strong></p>
<p>The OperationOutcome resource is now used to convey a 'No FGM Record Found' response. When a 'No FGM Record Found' bundle is sent, the value xml attributes of the  MessageHeader and OperationOutcome resource elements are now populated as follows:</p>
<ul>
<li>MessageHeader.response.code = 'ok'</li>
<li>OperationOutcome.issue.severity='information' </li>
<li>OperationOutcome.issue.code.coding.code='39999'</li>
<li>OperationOutcome.issue.details='No FGM Record Found'</li>
</ul>
<p><strong>NHS-FGM-Bundle-QueryResponse (Operation Outcome) Bundle</strong></p>
<p>When an 'Operation Outcome' bundle is sent, the value xml attributes  of the MessageHeader and OperationOutcome resource elements are now populated as follows:</p>
<ul>
<li>MessageHeader.response.code = 'fatal-error'</li>
<li>OperationOutcome.issue.severity='error' </li>
<li>OperationOutcome.issue.code.coding.code='39998' </li>
<li>OperationOutcome.issue.details='NHS Number Invalid' </li>
</ul>
<p><strong>Examples</strong></p>
<p>The XML examples have been amended to support the resource profile changes.</p>
<p>The JSON (JavaScript Object Notation) examples have been removed from the DMS, as the Spine 2 FGM RIS interface does not support this data format.</p>
<h2>Version: 1.0; Status: Draft A</h2>
<p><strong>First Draft</strong></p>
<p>First draft of FGM RIS DMS (Version 1.0 Draft A) created to support development of the Spine 2 national FGM Query/ Response FHIR Messaging interface.</p>

                        </div>                      
                    </div>
                    <!-- /inner-wrapper -->                   
                </div>
                <!-- /row -->              
            </div>
            <!-- /container -->           
        </div>
    <!-- /segment-content -->

        <div id="segment-footer" class="segment">
            <!-- segment-footer -->
            <div class="container">
                <!-- container -->
                <div class="inner-wrapper">
                    <p>
                        &copy; HSCIC 2015+. FHIR Implementation Guide. 
                    </p>
<!--                    <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> -->
                    </p>
                </div>
                <!-- /inner-wrapper -->
            </div>
            <!-- /container -->
        </div>

        <div id="segment-post-footer" class="segment hidden">
            <!-- segment-post-footer -->
            <div class="container">
                <!-- container -->
            </div>
            <!-- /container -->
        </div>
        
    </body>
</html>